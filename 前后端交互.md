# 前后端交互
## 总原则
- JSON编码
- 向服务器发送请求
    - op 代表发送请求的操作
    - 具体内容（不一定有）
- 服务器返回的响应
    - code 代表操作是否正确进行
        - 0：成功
        - 1：账号/密码错误
        - 2：未登录
        - 3：信息已被接取、已取消或已完成
        - 4：无权限
        - 5：该用户已被注册
        - -1：参数错误
            - info：错误的具体信息
    - 具体内容

---
## 获取信息列表
- 发送
    - op=getInfoList
    - id
        - -1：代表获取全部
        - 0：获取当前登录用户
- 接收
    - code 0，2
    - infos （若干组）
        - id 信息的编号
        - title 信息标题
        - name 发布人姓名
        - score 发布人评分
        - deadline 截止时间
        - lasting 预计所需时间
        - gift 赏金
        - type 跑腿类型
        - status 信息状态
## 获取信息详细
- 发送
    - op=getInfoById
    - id 信息的编号
- 接收
    - code 0,2，4
    - id 信息的编号
    - title 信息标题
    - name 发布人姓名
    - score 发布人评分
    - deadline 截止时间
    - lasting 预计所需时间
    - gift 赏金
    - type 跑腿类型
    - status 信息状态
    - money 需要花费的金额
    - time 发布时间
    - content 具体内容
## 接单
- 发送
    - op=acceptInfo
    - id 信息的编号
- 接收
    - code 0,2,3
    - id 信息的编号
## 获取我接取的订单列表
- 发送
    - op=getOrderList
- 接收
    - code 0,2
    - orders （若干组）
        - id 信息的编号
        - title 信息标题
        - name 发布人姓名
        - gift 赏金
        - type 跑腿类型
        - status 信息状态
        - accepttime 接取时间
        - deadline 截止时间
        - finishtime 完成时间
## 获取订单详细
- 发送
    - op=getOrderById
    - id 信息编号
- 接收
    - code 0,2,4
    - id 信息的编号
    - title 信息标题
    - name 发布人姓名
    - phone 发布人手机
    - score 发布人评分
    - name2 接取人姓名
    - phone2 接取人手机
    - score2 接取人评分
    - deadline 截止时间
    - lasting 预计所需时间
    - gift 赏金
    - type 跑腿类型
    - money 需要花费的金额
    - time 发布时间
    - content 具体内容
    - status 信息状态
    - accepttime 接取时间
    - deadline 截止时间
    - finishtime 完成时间
    - acceptbyme 是否是我接取的信息
        - 0：不是，则为我发布的信息
        - 1：是，是我接取的信息
## 发布信息
- 发送
    - op=publishInfo
    - type 跑腿类型
    - content 跑腿内容
    - money 跑腿需要的花费
    - gift 赏金
    - lasting 预计所需时间
    - deadline 截止时间
- 接收
    - code 0,2
    - id 信息编号
## 登录
- 发送
    - op=login
    - number
    - password
- 接收
    - code 0,1
    - id 用户编号
## 获取用户信息
- 发送
    - op=whoami
- 接收
    - code 0,2
    - number
    - phone
    - name
    - grade
    - major
    - money
## 注册
- 发送
    - op=signup
    - number
    - password
    - phone
    - grade
    - major
    - imageurl
- 接收
    - code 0,5